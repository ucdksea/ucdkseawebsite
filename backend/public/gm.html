<!-- /Users/stephanie/Desktop/ucdksea-website/gm.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UC DAVIS KSEA</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Site CSS -->
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/gm.css" />
    <link rel="stylesheet" href="/css/media.css" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@500&display=swap"
      rel="stylesheet"
    />

    <!-- Favicon & Icons -->
    <link
      rel="icon"
      href="/images/kseaicon/kseawhiteicon.png"
      type="image/png"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>

  <body>
    <!-- Header -->
    <section class="subheader5">
      <nav>
        <a href="/"><img src="/images/kseaicon/ksealogo_white.png" alt="UC Davis KSEA logo" /></a>
        <i class="fa-solid fa-bars" id="menuIcon" onclick="openMenu()"></i>
        <div class="nav-links" id="navLinks">
          <i class="fa-solid fa-xmark" id="closeIcon" onclick="closeMenu()"></i>
          <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/#about">About UCD KSEA</a></li>
            <li><a href="/officer">Officers</a></li>
            <li><a href="/gm">General Members</a></li>
            <li><a href="/event">Events</a></li>
            <li><a href="/faq">FAQ</a></li>
            <li><a href="/join">Join KSEA</a></li>
            <li><a href="https://api.ucdksea.com/log" class="text-blue-400 transition">Log</a></li>
          </ul>
        </div>
      </nav>
      <h1>General Members</h1>
    </section>

    <!-- Hero Section -->
    <section class="first">
      <h1>‚ú® Become a UCD KSEA General Member</h1>
      <p>Grow your network, lead your peers, and make an impact.</p>
    </section>

    <!-- Benefits Section -->
    <section class="benefit">
      <h2 class="text-2xl font-bold text-blue-800 mb-6 flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-pink-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16" />
        </svg>
        Membership Benefits
      </h2>
      <ul>
        <li>Various volunteer opportunities</li>
        <li>Major-specific networking groups & seasonal hangouts</li>
        <li>Members-only academic and social events</li>
        <li>Free social events</li>
        <li>Opportunity to plan and lead the DoDream program</li>
        <li>Big/Little mentoring program</li>
        <li>Discounts or free access to fundraising events</li>
      </ul>
    </section>

    <!-- Requirements Section -->
    <section class="requirements">
      <h2 class="text-2xl font-bold text-blue-800 mb-6 flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
        </svg>
        Membership Requirements
      </h2>
      <ul>
        <li>Pay a small membership fee</li>
        <li>Attend at least 2 General Meetings per term</li>
        <li>Participate in at least 2 KSEA events per term</li>
      </ul>
    </section>

    <!-- Application Process -->
    <section class="application">
      <h2 class="text-2xl font-bold text-blue-800 mb-6 flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-indigo-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16h8M8 12h8m-8-4h8M4 6h16M4 18h16" />
        </svg>
        How to Apply
      </h2>
      <ul>
        <li>Fill out the application form via Google Form</li>
        <li>Short interview with the President and Vice President</li>
      </ul>
    </section>

    <!-- Photo Section (Î∞±ÏóîÎìú Ïó∞Îèô) -->
    <section id="gmSection" class="gallery-section">
      <h2 class="text-center text-2xl font-bold text-blue-700 mb-10">üì∏ Our General Members</h2>
      <div
        id="gmGallery"
        class="mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-10 max-w-6xl px-4">
        <!-- Î∞±ÏóîÎìúÏóêÏÑú ÎèôÏ†ÅÏúºÎ°ú Ï±ÑÏõÄ -->
      </div>
    </section>

    <!-- Footer -->
    <section class="footer">
      <app-footer _ngcontent-xno-c271="" _nghost-xno-c31="">
        <footer _ngcontent-xno-c31="">
          <div _ngcontent-xno-c31="" class="wrap-footer-info">
            <div _ngcontent-xno-c31="" class="con-info">
              <img
                _ngcontent-xno-c31=""
                src="/images/kseaicon/ksealogo_white.png"
                alt="KSEA_logo"
              />
              <ul _ngcontent-xno-c31="">
                <li _ngcontent-xno-c31="" id="ngcontent1">
                  Korean-American Scientists and Engineers Association (KSEA)
                </li>
                <li _ngcontent-xno-c31="" id="ngcontent2">
                  KSEA Young Generation Group | University of California, Davis
                </li>
                <li _ngcontent-xno-c31="">
                  <span style="color: rgb(223, 223, 223)"
                    >Email: ucdksea@gmail.com</span
                  >
                </li>
                <li _ngcontent-xno-c31="">
                  <span style="color: rgb(223, 223, 223)"
                    >Copyright ¬© 2024 KSEA Sacramento chapter, All Rights
                    Reserved</span
                  >
                </li>
                <li>
                  <a href="/login"
                     rel="nofollow"
                     class="text-sm text-gray-400 hover:text-white hover:underline transition"
                     aria-label="Officer login (KSEA UC Davis officers only)">
                    Officer Login
                  </a>              
                </li>
              </ul>
            </div>
            <div><p><span style = "color: #3954A6 ;line-height: 0;">by Î∞±ÏßÄÏõê&Î∞ïÏó¨ÏßÑ</span></p></div>
            <div _ngcontent-xno-c31="" class="con-sns">
              <ul _ngcontent-xno-c31="">
                <li _ngcontent-xno-c31="">
                  <a
                    _ngcontent-xno-c31=""
                    href="https://www.instagram.com/kseadavis/"
                    target="_blank"
                    ><img
                      _ngcontent-xno-c31=""
                      src="/images/instagram.png"
                      width="50"
                      height="50"
                      alt="KSEA instagram"
                  /></a>
                </li>
                <li _ngcontent-xno-c31="">
                  <a
                    _ngcontent-xno-c31=""
                    href="https://linktr.ee/ucdksea"
                    target="_blank"
                    ><img
                      _ngcontent-xno-c31=""
                      src="/images/linktree.png"
                      width="50"
                      height="50"
                      alt="Ksea linktree"
                  /></a>
                </li>
              </ul>
            </div>
          </div>
        </footer>
      </app-footer>
    </section>

    <!-- Î™®Î∞îÏùº Î©îÎâ¥ ÌÜ†Í∏Ä -->
    <script>
      const navLinks = document.getElementById("navLinks");
      const menuIcon = document.getElementById("menuIcon");
      const closeIcon = document.getElementById("closeIcon");

      function openMenu() {
        navLinks.style.right = "0";
        menuIcon.style.display = "none";
        closeIcon.style.display = "block";
      }

      function closeMenu() {
        navLinks.style.right = "-200px";
        menuIcon.style.display = "block";
        closeIcon.style.display = "none";
      }
    </script>

    <!-- Î∞±ÏóîÎìú Ïó∞Îèô: GM Í∞§Îü¨Î¶¨ Î°úÎî© (Îπà Îç∞Ïù¥ÌÑ∞/Ïã§Ìå® Ïãú Ï°∞Ïö©Ìûà Ïà®ÍπÄ) -->
    <script>
      (async () => {
        const isDev = location.hostname === "127.0.0.1" || location.hostname === "localhost";
        // Í∞ôÏùÄ ÎèÑÎ©îÏù∏ÏóêÏÑú ÏÑúÎπôÎêòÎ©¥ Îπà Î¨∏ÏûêÏó¥("")Î°ú ÎëêÎäî ÌòÑÏû¨ Î∞©Ïãù OK.
        // Îã®, file:// Î°ú Ïó¥Î©¥ CORS/Í≤ΩÎ°ú Ïù¥ÏäàÍ∞Ä ÎÇòÎãà Íº≠ http://localhost:5500 ÎòêÎäî 3000 Îì± ÏÑúÎ≤ÑÎ°ú Ïó¥Í∏∞.
        const API_BASE = "https://api.ucdksea.com";  // Ï†àÎåÄÍ≤ΩÎ°ú!
        const API = API_BASE;
        fetch(`${API_BASE}/api/ping`, { credentials: "include" });
            
        const section = document.getElementById("gmSection");
        const box = document.getElementById("gmGallery");
        if (!section || !box) return;
    
        try {
          // active=1 ÌïÑÌÑ∞Î•º Ïì∞Í≥† Ïã∂Îã§Î©¥ Î∞±ÏóîÎìúÍ∞Ä Í∑∏ ÌååÎùºÎØ∏ÌÑ∞Î•º ÏßÄÏõêÌïòÎäîÏßÄ ÌôïÏù∏.
          // ÏùºÎã® ÏßÄÏõêÎêúÎã§Í≥† Í∞ÄÏ†ïÌïòÍ≥† Ïú†ÏßÄ.
          const res = await fetch(`${API_BASE}/api/admin/posts?type=GM&active=1`, {
            credentials: "omit",
            headers: { "Accept": "application/json" }
          });
          if (!res.ok) throw new Error(`HTTP ${res.status}`);
    
          const data = await res.json();
          const posts = Array.isArray(data?.posts) ? data.posts : [];
    
          if (!posts.length) { section.style.display = "none"; return; }
    
          const html = posts
            .filter(p => p?.imageUrl)
            .map(p => {
              const quarter = (p.quarter || p.semester || "").toString().trim();
              const year    = (p.year || "").toString().trim();
              const title   = (p.title || "").toString().trim();
    
              const captionRaw =
                (quarter && year) ? `${quarter} ${year}` :
                title ? title : "";
    
              const caption = (captionRaw || "").replace(/"/g, "&quot;"); // XSS/ÏÜçÏÑ±Íπ®Ïßê Î∞©ÏßÄ
              const img = p.imageUrl;
    
              return `
                <div class="flex flex-col items-center text-center">
                  <img src="${img}" alt="${caption}" loading="lazy"
                       class="rounded-xl shadow-md w-[280px] h-[200px] object-cover" />
                  <p class="mt-3 text-gray-600 text-sm">${caption} General Members</p>
                </div>
              `;
            })
            .join("");
    
          if (!html) { section.style.display = "none"; return; }
          box.innerHTML = html;
    
        } catch (err) {
          console.warn("GM fetch failed:", err);
          section.style.display = "none";
        }
      })();
    </script>
    
    
  </body>
</html>
